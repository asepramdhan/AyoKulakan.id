import{c as z,u as E,j as s,L as A,H as M,F as R}from"./app-DdbnQ3su.js";import{P as S}from"./ProductController-Dl6ukl8W.js";import{A as B,a as F}from"./alert-BiecZEKm.js";import{B as v}from"./app-logo-icon-EE7Bar-n.js";import{b as I,c as L,C as O,a as D}from"./card-INt60vkO.js";import{E as K,a as $,b as G,c as q}from"./empty-BbKqTJ11.js";import{T as H,a as h,b as J,c as p,d as Q,e as U}from"./table-rQZaPLnJ.js";import{P as V,S as W,A as X,p as Y}from"./app-layout-BkLlokMk.js";import{z as Z}from"./transition-BeoO98op.js";import{P as ee}from"./package-3pj5DPbT.js";import{C as se}from"./circle-check-DZbSs9UE.js";import{P as te}from"./pencil-DVv1BWzQ.js";import{T as ae}from"./trash-2-CaVI-rYo.js";/* empty css            */import"./index-C4J_hXM0.js";import"./index-C8eT4Gq4.js";import"./index-BfCENoI7.js";const re=[{title:"Master Produk",href:Y.index().url}];function ye(t){const e=z.c(33),{products:a,stores:P,filters:r}=t,{flash:j}=E().props;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(M,{title:"Master Produk"}),e[0]=u):u=e[0];const C=r.store_id?"outline":"default";let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(A,{href:S.index().url,children:"Semua Toko"}),e[1]=g):g=e[1];let l;e[2]!==C?(l=s.jsx(v,{variant:C,size:"sm",className:"cursor-pointer",children:g}),e[2]=C,e[3]=l):l=e[3];let i;if(e[4]!==r.store_id||e[5]!==P){let T;e[7]!==r.store_id?(T=y=>s.jsx(v,{variant:r.store_id==y.id?"default":"outline",size:"sm",className:"cursor-pointer",children:s.jsxs(A,{href:S.index().url+`?store_id=${y.id}`,className:"flex items-center",children:[s.jsx(W,{className:"w-3 h-3 mr-1"})," ",y.name]})},y.id),e[7]=r.store_id,e[8]=T):T=e[8],i=P.map(T),e[4]=r.store_id,e[5]=P,e[6]=i}else i=e[6];let n;e[9]!==l||e[10]!==i?(n=s.jsxs("div",{className:"flex flex-wrap gap-2",children:[l,i]}),e[9]=l,e[10]=i,e[11]=n):n=e[11];let N;e[12]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(I,{className:"flex flex-row items-center justify-between",children:s.jsxs(L,{className:"text-xl flex items-center gap-2",children:[s.jsx(ee,{className:"w-5 h-5"})," Master Produk"]})}),e[12]=N):N=e[12];let k;e[13]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(se,{}),e[13]=k):k=e[13];const w=j.message||"Terhapus";let o;e[14]!==w?(o=s.jsxs(B,{className:"mb-2 text-green-600 bg-green-50 dark:bg-green-800 dark:text-green-200",children:[k,s.jsx(F,{children:w})]}),e[14]=w,e[15]=o):o=e[15];let c;e[16]!==j.message||e[17]!==o?(c=s.jsx(Z,{show:j.message,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:o}),e[16]=j.message,e[17]=o,e[18]=c):c=e[18];let b;e[19]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(J,{children:s.jsxs(H,{children:[s.jsx(p,{children:"Nama Produk"}),s.jsx(p,{children:"Toko"}),s.jsx(p,{children:"Harga Terakhir"}),s.jsx(p,{children:"Stok"}),s.jsx(p,{className:"text-right",children:"Aksi"})]})}),e[19]=b):b=e[19];let m;e[20]!==a?(m=a.map(le),e[20]=a,e[21]=m):m=e[21];let d;e[22]!==a.length?(d=a.length==0&&s.jsx(H,{children:s.jsx(h,{colSpan:5,className:"text-center",children:s.jsx(K,{children:s.jsxs($,{children:[s.jsx(G,{variant:"icon",children:s.jsx(V,{className:"w-6 h-6 text-slate-400"})}),s.jsx(q,{className:"text-slate-400",children:"Tidak ada master produk"})]})})})}),e[22]=a.length,e[23]=d):d=e[23];let x;e[24]!==m||e[25]!==d?(x=s.jsxs(Q,{children:[b,s.jsxs(U,{children:[m,d]})]}),e[24]=m,e[25]=d,e[26]=x):x=e[26];let f;e[27]!==c||e[28]!==x?(f=s.jsxs(O,{children:[N,s.jsxs(D,{children:[c,x]})]}),e[27]=c,e[28]=x,e[29]=f):f=e[29];let _;return e[30]!==f||e[31]!==n?(_=s.jsxs(X,{breadcrumbs:re,children:[u,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[n,f]})]}),e[30]=f,e[31]=n,e[32]=_):_=e[32],_}function le(t){const e=t.stock<=(t.stock_warning||0);return s.jsxs(H,{children:[s.jsx(h,{className:"font-medium capitalize",children:s.jsxs("div",{className:"flex flex-col",children:[t.name,e&&t.stock>0&&s.jsx("span",{className:"text-[10px] text-orange-500 font-bold animate-pulse",children:"STOK HAMPIR HABIS"}),t.stock<=0&&s.jsx("span",{className:"text-[10px] text-red-500 font-bold",children:"STOK KOSONG"})]})}),s.jsx(h,{children:s.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded capitalize",children:t.store?.name})}),s.jsxs(h,{children:["Rp ",Number(t.last_price).toLocaleString("id-ID",{maximumFractionDigits:0})]}),s.jsx(h,{children:s.jsxs("div",{className:`flex items-center gap-1 font-bold ${e?"text-red-600":"text-slate-700 dark:text-slate-300"}`,children:[t.stock,s.jsx("span",{className:"text-[10px] font-normal text-slate-400",children:"pcs"})]})}),s.jsx(h,{children:s.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[s.jsx(A,{href:S.edit(t.id),children:s.jsx(v,{variant:"ghost",size:"icon",className:"text-slate-500 cursor-pointer",children:s.jsx(te,{className:"w-4 h-4"})})}),s.jsx(R,{...S.destroy.form(t.id),children:s.jsx(v,{variant:"ghost",size:"icon",className:"text-red-500 cursor-pointer",onClick:ie,children:s.jsx(ae,{className:"w-4 h-4"})})})]})})]},t.id)}function ie(t){confirm("Apakah anda yakin ingin menghapus data ini?")||t.preventDefault()}export{ye as default};
