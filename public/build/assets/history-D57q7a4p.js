import{c as I,r as R,j as t,H as _,L as y}from"./app-DdbnQ3su.js";import{C as H,B as M}from"./badge-Cl6Q7DNt.js";import{a as P,B as v}from"./app-logo-icon-EE7Bar-n.js";import{C as w,a as C}from"./card-INt60vkO.js";import{I as $}from"./input-DKxKIjRb.js";import{H as k,A as z,s as b,S as F,C as T}from"./app-layout-BkLlokMk.js";import{P as A}from"./package-3pj5DPbT.js";/* empty css            */import"./index-C8eT4Gq4.js";import"./index-BfCENoI7.js";import"./index-C4J_hXM0.js";const E=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Q=P("Calendar",E),q=[{title:"Riwayat Belanja",href:b.history().url}],S=a=>{const e=new Date(a),x=e.toLocaleDateString("id-ID",{weekday:"long"}),s=e.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\//g,"-"),p=e.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}).replace(".",":");return`${x}, ${s} ${p}`};function se(a){const e=I.c(26),{lists:x}=a,[s,p]=R.useState("");let n,c,r,l,o,d,i;if(e[0]!==x||e[1]!==s){let u;e[9]!==s?(u=h=>{const j=s.toLowerCase(),L=h.title.toLowerCase().includes(j),D=h.store?.name?.toLowerCase().includes(j),B=S(h.shopping_date).toLowerCase().includes(j);return L||D||B},e[9]=s,e[10]=u):u=e[10];const N=x.filter(u);n=z,d=q,e[11]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(_,{title:"Riwayat Belanja"}),e[11]=i):i=e[11],c="flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",e[12]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(k,{className:"w-6 h-6 text-slate-500 dark:text-slate-400"}),"Riwayat Belanja"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Daftar belanja yang telah Anda selesaikan."})]}),e[12]=r):r=e[12];let f;e[13]===Symbol.for("react.memo_cache_sentinel")?(f=h=>p(h.target.value),e[13]=f):f=e[13],e[14]!==s?(l=t.jsx("div",{className:"flex items-center gap-2",children:t.jsx($,{placeholder:"Cari riwayat belanja...",className:"w-full border border-slate-300 dark:border-slate-700 rounded-lg px-3 py-2 bg-white dark:bg-slate-800 text-sm placeholder:text-slate-400 dark:placeholder:text-slate-600",value:s,onChange:f})}),e[14]=s,e[15]=l):l=e[15],o=N.length===0?t.jsx(w,{className:"border-dashed",children:t.jsxs(C,{className:"flex flex-col items-center justify-center py-10",children:[t.jsx(k,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mb-2"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:s?"Hasil pencarian tidak ditemukan.":"Belum ada riwayat belanja."}),s&&t.jsx(v,{variant:"link",onClick:()=>p(""),className:"text-orange-500 text-xs",children:"Reset Pencarian"})]})}):t.jsx("div",{className:"grid gap-4",children:N.map(G)}),e[0]=x,e[1]=s,e[2]=n,e[3]=c,e[4]=r,e[5]=l,e[6]=o,e[7]=d,e[8]=i}else n=e[2],c=e[3],r=e[4],l=e[5],o=e[6],d=e[7],i=e[8];let m;e[16]!==c||e[17]!==r||e[18]!==l||e[19]!==o?(m=t.jsxs("div",{className:c,children:[r,l,o]}),e[16]=c,e[17]=r,e[18]=l,e[19]=o,e[20]=m):m=e[20];let g;return e[21]!==n||e[22]!==d||e[23]!==i||e[24]!==m?(g=t.jsxs(n,{breadcrumbs:d,children:[i,m]}),e[21]=n,e[22]=d,e[23]=i,e[24]=m,e[25]=g):g=e[25],g}function G(a){const e=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0}).format(a.total_price||0);return t.jsxs(y,{href:b.check(a.id),className:"relative",children:[t.jsx(y,{href:b.duplicate(a.id),className:"absolute top-2 right-3",children:t.jsx(v,{variant:"ghost",size:"icon",className:"z-10 rounded-full cursor-pointer bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700",title:"Duplikat daftar belanja",children:t.jsx(H,{})})}),t.jsx(w,{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group",children:t.jsxs(C,{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-bold text-lg capitalize",children:a.title}),t.jsx(M,{variant:"secondary",className:"bg-green-100 text-green-700 hover:bg-green-100 dark:bg-green-700 dark:hover:bg-green-700 dark:text-green-50",children:"Selesai"})]}),t.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(F,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"capitalize",children:a.store?.name||"Toko tidak diketahui"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Q,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:S(a.shopping_date)})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(A,{className:"w-3.5 h-3.5"}),t.jsxs("span",{children:[a.items_count," Barang"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right hidden sm:block",children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Pengeluaran"}),t.jsx("p",{className:"font-bold text-blue-600 dark:text-blue-400",children:e})]}),t.jsx(T,{className:"w-5 h-5 text-slate-300 group-hover:text-slate-500 dark:group-hover:text-slate-400 transition-colors"})]})]})})]},a.id)}export{se as default};
