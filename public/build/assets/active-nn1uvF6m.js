import{c as C,j as t,L as T,H as B}from"./app-DUSVlt4_.js";import{c as D,B as A}from"./app-logo-icon-DL6uu5NJ.js";import{C as R,a as P}from"./card-fV1JMGfy.js";import{s as S,c as q,A as E,C as H}from"./app-layout-D6iWFSfB.js";import{P as M}from"./pencil-DPytkY7n.js";/* empty css            */import"./index-Ba9IFggz.js";import"./index-B82T-xMB.js";import"./index-C4J_hXM0.js";const K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],U=D("Clock",K);const W=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],z=D("Printer",W);const F=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],J=D("Share2",F);const O=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],V=D("Wallet",O),G=[{title:"Sedang Berjalan",href:S.active().url}],Q=new Date().toISOString().split("T")[0],X=a=>{const e=new Date(a),s=e.toLocaleDateString("id-ID",{weekday:"long"}),r=e.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\//g,"-"),c=e.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}).replace(".",":");return`${s}, ${r} ${c}`},Y=a=>{const e="----------------------------------",s=`*ðŸ›’ DAFTAR BELANJA: ${a.title.toUpperCase()}*`,r=`ðŸ“ *Toko:* ${a.store?.name||"Bebas"}`,c=l=>l.toLowerCase().split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),o=a.items?.length>0?a.items.map((l,n)=>{const i=l.is_bought?"âœ…":"",x=l.product_name||l.name||l.product_name_snapshot||"Produk Tanpa Nama",u=c(x),h=l.quantity||0,p=l.unit||"pcs";return`${n+1}. *${u}* (${h} ${p}) ${i}`}).join(`
`):"_Daftar item kosong_",d=`*TOTAL ESTIMASI: Rp ${Number(a.total_estimated_price).toLocaleString("id-ID")}*`,m=`${s}
${e}
${r}

${o}

${e}
${d}

Dikirim via *AyoKulakan.PortoKu.id*`;window.open("https://api.whatsapp.com/send?text="+encodeURIComponent(m),"_blank")};function pe(a){const e=C.c(44),{lists:s}=a;let r,c,o,d,g,m,l,n,i;if(e[0]!==s){const I=s.reduce(le,0);let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(B,{title:"Sedang Berjalan"}),e[10]=y):y=e[10];let k;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:t.jsx(q,{className:"w-6 h-6 text-orange-600"})}),e[11]=k):k=e[11];let v;e[12]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("h2",{className:"text-2xl font-bold dark:text-slate-100",children:"Daftar Belanja Aktif"}),e[12]=v):v=e[12];let b;e[13]!==s.length?(b=t.jsxs("div",{className:"flex items-center gap-3",children:[k,t.jsxs("div",{className:"flex flex-col",children:[v,t.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.length," Daftar belanja yang sedang berjalan"]})]})]}),e[13]=s.length,e[14]=b):b=e[14];const $=s.length>0&&t.jsx(R,{className:"bg-orange-600 text-white border-none shadow-lg md:min-w-[250px]",children:t.jsxs(P,{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold uppercase text-orange-100",children:"Total Anggaran"}),t.jsxs("div",{className:"text-xl font-black text-white",children:["Rp ",I.toLocaleString("id-ID")]})]}),t.jsx(V,{className:"w-8 h-8 opacity-40"})]})});let f;e[15]!==b||e[16]!==$?(f=t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[b,$]}),e[15]=b,e[16]=$,e[17]=f):f=e[17];let j;e[18]!==s.length?(j=s.length>0&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-300 cursor-pointer",onClick:ae,children:[t.jsx(z,{className:"w-5 h-5"}),"Print Semua Daftar Belanja"]})}),e[18]=s.length,e[19]=j):j=e[19];const L=s.length===0?t.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border-2 border-dashed",children:[t.jsx("p",{className:"text-slate-400",children:"Belum ada daftar belanja aktif."}),t.jsx(T,{href:S.index().url,className:"text-sm font-medium text-blue-600 hover:underline dark:text-blue-500 mt-2",children:"Buat Daftar Belanja"})]}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(te)});e[20]!==f||e[21]!==j||e[22]!==L?(i=t.jsxs(E,{breadcrumbs:G,children:[y,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6",children:[f,j,L]})]}),e[20]=f,e[21]=j,e[22]=L,e[23]=i):i=e[23],g="print-area",m="hidden print:block bg-white text-black p-4";let _,w;e[24]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("h1",{className:"text-2xl font-bold uppercase text-black",children:"Daftar Belanja AyoKulakan"}),w=t.jsx("p",{className:"text-sm text-black",children:"URL: ayokulakan.id"}),e[24]=_,e[25]=w):(_=e[24],w=e[25]),e[26]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsxs("div",{className:"text-center border-b-2 border-black pb-4 mb-6",children:[_,w,t.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:["Dicetak pada: ",new Date().toLocaleString("id-ID")]})]}),e[26]=l):l=e[26],n=s.map(Z),d="mt-12 pt-4 border-t border-dashed border-slate-400 text-center",r="text-sm font-bold",c="Total Seluruh Anggaran: Rp ",o=I.toLocaleString("id-ID"),e[0]=s,e[1]=r,e[2]=c,e[3]=o,e[4]=d,e[5]=g,e[6]=m,e[7]=l,e[8]=n,e[9]=i}else r=e[1],c=e[2],o=e[3],d=e[4],g=e[5],m=e[6],l=e[7],n=e[8],i=e[9];let x;e[27]!==r||e[28]!==c||e[29]!==o?(x=t.jsxs("p",{className:r,children:[c,o]}),e[27]=r,e[28]=c,e[29]=o,e[30]=x):x=e[30];let u;e[31]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx("p",{className:"text-[10px] mt-4 text-slate-400",children:"Terima kasih telah menggunakan AyoKulakan.id"}),e[31]=u):u=e[31];let h;e[32]!==x||e[33]!==d?(h=t.jsxs("div",{className:d,children:[x,u]}),e[32]=x,e[33]=d,e[34]=h):h=e[34];let p;e[35]!==h||e[36]!==g||e[37]!==m||e[38]!==l||e[39]!==n?(p=t.jsxs("div",{id:g,className:m,children:[l,n,h]}),e[35]=h,e[36]=g,e[37]=m,e[38]=l,e[39]=n,e[40]=p):p=e[40];let N;return e[41]!==p||e[42]!==i?(N=t.jsxs(t.Fragment,{children:[i,p]}),e[41]=p,e[42]=i,e[43]=N):N=e[43],N}function Z(a){return t.jsxs("div",{className:"mb-10 break-inside-avoid",children:[t.jsxs("div",{className:"flex justify-between items-end mb-2 border-b border-slate-300 pb-1",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold uppercase",children:a.title}),t.jsxs("p",{className:"text-sm",children:["Toko: ",t.jsx("strong",{children:a.store?.name||"Bebas"})]})]}),t.jsx("p",{className:"text-sm text-right",children:new Date(a.shopping_date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),t.jsxs("table",{className:"w-full border-collapse mt-4",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b-2 border-black text-left text-sm",children:[t.jsx("th",{className:"py-2 w-10",children:"No"}),t.jsx("th",{className:"py-2",children:"Nama Barang"}),t.jsx("th",{className:"py-2 w-24",children:"Jumlah"}),t.jsx("th",{className:"py-2 text-right w-32",children:"Harga Satuan"})]})}),t.jsx("tbody",{children:a.items?.map(ee)})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Total Estimasi Daftar Ini:"}),t.jsxs("p",{className:"text-lg font-bold",children:["Rp ",Number(a.total_estimated_price).toLocaleString("id-ID")]})]})})]},a.id)}function ee(a,e){return t.jsxs("tr",{className:"border-b border-slate-200 text-sm",children:[t.jsx("td",{className:"py-2",children:e+1}),t.jsx("td",{className:"py-2",children:a.product_name||a.name||a.product_name_snapshot||"Produk Tanpa Nama"}),t.jsxs("td",{className:"py-2",children:[a.quantity," ",a.unit||"pcs"]}),t.jsxs("td",{className:"py-2 text-right",children:["Rp ",Number(a.price||0).toLocaleString("id-ID")]})]},e)}function te(a){const e=a.completed_items_count/a.items_count*100,s=a.shopping_date.startsWith(Q);return t.jsxs("div",{className:"relative group bg-white dark:bg-slate-900 border dark:border-slate-800 rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition-all",children:[t.jsxs(T,{href:S.check(a.id).url,className:"block p-5 pb-2",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:"text-[9px] font-bold uppercase text-orange-700 bg-orange-100 dark:bg-orange-900/50 dark:text-orange-400 px-2 py-0.5 rounded",children:a.store?.name}),s&&t.jsx("span",{className:"text-[9px] font-bold uppercase text-blue-700 bg-blue-100 dark:bg-blue-900/50 dark:text-blue-300 px-2 py-0.5 rounded",children:"Hari Ini"})]}),t.jsx("h3",{className:"font-bold text-lg dark:text-slate-100 capitalize",children:a.title}),t.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[11px]",children:[t.jsx(U,{className:"w-3 h-3"})," ",X(a.shopping_date)]})]}),t.jsx(H,{className:"text-slate-300 group-hover:text-orange-500 group-hover:translate-x-1 transition-all"})]}),t.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 h-1.5 rounded-full mt-4",children:t.jsx("div",{className:"bg-orange-500 h-full rounded-full transition-all",style:{width:`${e}%`}})})]}),t.jsxs("div",{className:"px-5 py-4 flex items-center justify-between border-t dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:[t.jsxs("div",{className:"text-sm font-black dark:text-white",children:[t.jsx("span",{className:"text-[9px] text-slate-400 block font-normal uppercase",children:"Estimasi"}),"Rp ",Number(a.total_estimated_price||0).toLocaleString("id-ID")]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(A,{variant:"outline",size:"icon",className:"rounded-full h-8 w-8 hover:bg-orange-100 hover:text-orange-600 dark:border-slate-700 cursor-pointer",onClick:r=>{r.preventDefault(),Y(a)},children:t.jsx(J,{className:"w-4 h-4"})}),t.jsx(T,{href:S.edit(a.id),children:t.jsx(A,{variant:"outline",size:"icon",className:"rounded-full h-8 w-8 hover:bg-slate-100 hover:text-slate-600 dark:border-slate-700 cursor-pointer",children:t.jsx(M,{className:"w-4 h-4"})})})]})]})]},a.id)}function ae(){setTimeout(se,100)}function se(){window.print()}function le(a,e){return a+Number(e.total_estimated_price||0)}export{pe as default};
