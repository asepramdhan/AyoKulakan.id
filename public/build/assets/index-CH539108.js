import{r as d,j as r,c as Tt,u as fr,F as Mt,H as xr}from"./app-DUSVlt4_.js";import{q as re,a as pt}from"./index-C4J_hXM0.js";import{I as B}from"./input-error-DtmQeRnf.js";import{A as gr,a as br}from"./alert-D769RKcR.js";import{c as kt,u as Fe,a as Xt,B as Re}from"./app-logo-icon-DL6uu5NJ.js";import{a as at,C as nt,b as ct,c as it}from"./card-fV1JMGfy.js";import{D as _r,a as yr,b as Sr,c as jr,d as vr,e as wr}from"./dialog-BNwx4KDn.js";import{E as Nr,a as Pr,b as Tr,c as kr}from"./empty-D0uFezQy.js";import{I as X}from"./input-Rg6CjgWR.js";import{L as D}from"./label-B2SiUJ-G.js";import{P as Le}from"./index-B82T-xMB.js";import{c as Cr,P as ft,a as te,d as Ar}from"./index-Ba9IFggz.js";import{u as Rr,d as ee,S as Er,P as Dr,A as Fr,e as qr}from"./app-layout-D6iWFSfB.js";import{c as Lr,S as Ot,a as Bt,b as Qt,d as Wt,e as Hr,f as Ir,g as Ee}from"./select-AUSS8Anc.js";import{S as zr}from"./spinner-721Z4v6m.js";import{b as dt,e as G,d as Ut,T as Mr,a as Or,c as R,f as Br}from"./table-Z2-Nm_3X.js";import{P as Yt}from"./pencil-DPytkY7n.js";import{P as Nt}from"./plus-DINrimD8.js";import{S as Qr}from"./save-D8Sdw74s.js";import{T as Wr}from"./trending-up-C9dpQplb.js";import{C as Ur}from"./circle-check-DIAvn6Q3.js";import{z as Yr}from"./transition-Y5zXu3oT.js";/* empty css            */import"./index-B7_lzITW.js";import"./check-DXRxvC8y.js";import"./loader-circle-BoSmsRh-.js";const Vr=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Xr=kt("ArrowUpRight",Vr);const $r=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Jr=kt("DollarSign",$r);const Kr=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Gr=kt("Percent",Kr),F=t=>({url:F.url(t),method:"get"});F.definition={methods:["get","head"],url:"/sales-record"};F.url=t=>F.definition.url+re(t);F.get=t=>({url:F.url(t),method:"get"});F.head=t=>({url:F.url(t),method:"head"});const Ct=t=>({action:F.url(t),method:"get"});Ct.get=t=>({action:F.url(t),method:"get"});Ct.head=t=>({action:F.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});F.form=Ct;const q=t=>({url:q.url(t),method:"get"});q.definition={methods:["get","head"],url:"/sales-record/create"};q.url=t=>q.definition.url+re(t);q.get=t=>({url:q.url(t),method:"get"});q.head=t=>({url:q.url(t),method:"head"});const At=t=>({action:q.url(t),method:"get"});At.get=t=>({action:q.url(t),method:"get"});At.head=t=>({action:q.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});q.form=At;const Q=t=>({url:Q.url(t),method:"post"});Q.definition={methods:["post"],url:"/sales-record"};Q.url=t=>Q.definition.url+re(t);Q.post=t=>({url:Q.url(t),method:"post"});const $t=t=>({action:Q.url(t),method:"post"});$t.post=t=>({action:Q.url(t),method:"post"});Q.form=$t;const L=(t,e)=>({url:L.url(t,e),method:"get"});L.definition={methods:["get","head"],url:"/sales-record/{sales_record}"};L.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={sales_record:t}),Array.isArray(t)&&(t={sales_record:t[0]}),t=pt(t);const l={sales_record:t.sales_record};return L.definition.url.replace("{sales_record}",l.sales_record.toString()).replace(/\/+$/,"")+re(e)};L.get=(t,e)=>({url:L.url(t,e),method:"get"});L.head=(t,e)=>({url:L.url(t,e),method:"head"});const Rt=(t,e)=>({action:L.url(t,e),method:"get"});Rt.get=(t,e)=>({action:L.url(t,e),method:"get"});Rt.head=(t,e)=>({action:L.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});L.form=Rt;const H=(t,e)=>({url:H.url(t,e),method:"get"});H.definition={methods:["get","head"],url:"/sales-record/{sales_record}/edit"};H.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={sales_record:t}),Array.isArray(t)&&(t={sales_record:t[0]}),t=pt(t);const l={sales_record:t.sales_record};return H.definition.url.replace("{sales_record}",l.sales_record.toString()).replace(/\/+$/,"")+re(e)};H.get=(t,e)=>({url:H.url(t,e),method:"get"});H.head=(t,e)=>({url:H.url(t,e),method:"head"});const Et=(t,e)=>({action:H.url(t,e),method:"get"});Et.get=(t,e)=>({action:H.url(t,e),method:"get"});Et.head=(t,e)=>({action:H.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});H.form=Et;const E=(t,e)=>({url:E.url(t,e),method:"put"});E.definition={methods:["put","patch"],url:"/sales-record/{sales_record}"};E.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={sales_record:t}),Array.isArray(t)&&(t={sales_record:t[0]}),t=pt(t);const l={sales_record:t.sales_record};return E.definition.url.replace("{sales_record}",l.sales_record.toString()).replace(/\/+$/,"")+re(e)};E.put=(t,e)=>({url:E.url(t,e),method:"put"});E.patch=(t,e)=>({url:E.url(t,e),method:"patch"});const Dt=(t,e)=>({action:E.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...e?.query??e?.mergeQuery??{}}}),method:"post"});Dt.put=(t,e)=>({action:E.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...e?.query??e?.mergeQuery??{}}}),method:"post"});Dt.patch=(t,e)=>({action:E.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});E.form=Dt;const W=(t,e)=>({url:W.url(t,e),method:"delete"});W.definition={methods:["delete"],url:"/sales-record/{sales_record}"};W.url=(t,e)=>{(typeof t=="string"||typeof t=="number")&&(t={sales_record:t}),Array.isArray(t)&&(t={sales_record:t[0]}),t=pt(t);const l={sales_record:t.sales_record};return W.definition.url.replace("{sales_record}",l.sales_record.toString()).replace(/\/+$/,"")+re(e)};W.delete=(t,e)=>({url:W.url(t,e),method:"delete"});const Jt=(t,e)=>({action:W.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});Jt.delete=(t,e)=>({action:W.url(t,{[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});W.form=Jt;const Pt={store:Q,update:E,destroy:W};function Zr(t,e){return d.useReducer((l,o)=>e[l][o]??l,t)}var Ft="ScrollArea",[Kt,Zl]=Cr(Ft),[el,I]=Kt(Ft),Gt=d.forwardRef((t,e)=>{const{__scopeScrollArea:l,type:o="hover",dir:s,scrollHideDelay:a=600,...c}=t,[m,i]=d.useState(null),[f,u]=d.useState(null),[b,p]=d.useState(null),[j,T]=d.useState(null),[Y,C]=d.useState(null),[z,_]=d.useState(0),[qe,V]=d.useState(0),[M,O]=d.useState(!1),[$,J]=d.useState(!1),v=Fe(e,h=>i(h)),P=Rr(s);return r.jsx(el,{scope:l,type:o,dir:P,scrollHideDelay:a,scrollArea:m,viewport:f,onViewportChange:u,content:b,onContentChange:p,scrollbarX:j,onScrollbarXChange:T,scrollbarXEnabled:M,onScrollbarXEnabledChange:O,scrollbarY:Y,onScrollbarYChange:C,scrollbarYEnabled:$,onScrollbarYEnabledChange:J,onCornerWidthChange:_,onCornerHeightChange:V,children:r.jsx(Le.div,{dir:P,...c,ref:v,style:{position:"relative","--radix-scroll-area-corner-width":z+"px","--radix-scroll-area-corner-height":qe+"px",...t.style}})})});Gt.displayName=Ft;var Zt="ScrollAreaViewport",er=d.forwardRef((t,e)=>{const{__scopeScrollArea:l,children:o,nonce:s,...a}=t,c=I(Zt,l),m=d.useRef(null),i=Fe(e,m,c.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...a,ref:i,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:r.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});er.displayName=Zt;var U="ScrollAreaScrollbar",tr=d.forwardRef((t,e)=>{const{forceMount:l,...o}=t,s=I(U,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=s,m=t.orientation==="horizontal";return d.useEffect(()=>(m?a(!0):c(!0),()=>{m?a(!1):c(!1)}),[m,a,c]),s.type==="hover"?r.jsx(tl,{...o,ref:e,forceMount:l}):s.type==="scroll"?r.jsx(rl,{...o,ref:e,forceMount:l}):s.type==="auto"?r.jsx(rr,{...o,ref:e,forceMount:l}):s.type==="always"?r.jsx(qt,{...o,ref:e}):null});tr.displayName=U;var tl=d.forwardRef((t,e)=>{const{forceMount:l,...o}=t,s=I(U,t.__scopeScrollArea),[a,c]=d.useState(!1);return d.useEffect(()=>{const m=s.scrollArea;let i=0;if(m){const f=()=>{window.clearTimeout(i),c(!0)},u=()=>{i=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return m.addEventListener("pointerenter",f),m.addEventListener("pointerleave",u),()=>{window.clearTimeout(i),m.removeEventListener("pointerenter",f),m.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),r.jsx(ft,{present:l||a,children:r.jsx(rr,{"data-state":a?"visible":"hidden",...o,ref:e})})}),rl=d.forwardRef((t,e)=>{const{forceMount:l,...o}=t,s=I(U,t.__scopeScrollArea),a=t.orientation==="horizontal",c=gt(()=>i("SCROLL_END"),100),[m,i]=Zr("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(m==="idle"){const f=window.setTimeout(()=>i("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[m,s.scrollHideDelay,i]),d.useEffect(()=>{const f=s.viewport,u=a?"scrollLeft":"scrollTop";if(f){let b=f[u];const p=()=>{const j=f[u];b!==j&&(i("SCROLL"),c()),b=j};return f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[s.viewport,a,i,c]),r.jsx(ft,{present:l||m!=="hidden",children:r.jsx(qt,{"data-state":m==="hidden"?"hidden":"visible",...o,ref:e,onPointerEnter:te(t.onPointerEnter,()=>i("POINTER_ENTER")),onPointerLeave:te(t.onPointerLeave,()=>i("POINTER_LEAVE"))})})}),rr=d.forwardRef((t,e)=>{const l=I(U,t.__scopeScrollArea),{forceMount:o,...s}=t,[a,c]=d.useState(!1),m=t.orientation==="horizontal",i=gt(()=>{if(l.viewport){const f=l.viewport.offsetWidth<l.viewport.scrollWidth,u=l.viewport.offsetHeight<l.viewport.scrollHeight;c(m?f:u)}},10);return De(l.viewport,i),De(l.content,i),r.jsx(ft,{present:o||a,children:r.jsx(qt,{"data-state":a?"visible":"hidden",...s,ref:e})})}),qt=d.forwardRef((t,e)=>{const{orientation:l="vertical",...o}=t,s=I(U,t.__scopeScrollArea),a=d.useRef(null),c=d.useRef(0),[m,i]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=nr(m.viewport,m.content),u={...o,sizes:m,onSizesChange:i,hasThumb:f>0&&f<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:p=>c.current=p};function b(p,j){return cl(p,c.current,m,j)}return l==="horizontal"?r.jsx(ll,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,j=Vt(p,m,s.dir);a.current.style.transform=`translate3d(${j}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=b(p,s.dir))}}):l==="vertical"?r.jsx(sl,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,j=Vt(p,m);a.current.style.transform=`translate3d(0, ${j}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=b(p))}}):null}),ll=d.forwardRef((t,e)=>{const{sizes:l,onSizesChange:o,...s}=t,a=I(U,t.__scopeScrollArea),[c,m]=d.useState(),i=d.useRef(null),f=Fe(e,i,a.onScrollbarXChange);return d.useEffect(()=>{i.current&&m(getComputedStyle(i.current))},[i]),r.jsx(sr,{"data-orientation":"horizontal",...s,ref:f,sizes:l,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":xt(l)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,b)=>{if(a.viewport){const p=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(p),ir(p,b)&&u.preventDefault()}},onResize:()=>{i.current&&a.viewport&&c&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:ht(c.paddingLeft),paddingEnd:ht(c.paddingRight)}})}})}),sl=d.forwardRef((t,e)=>{const{sizes:l,onSizesChange:o,...s}=t,a=I(U,t.__scopeScrollArea),[c,m]=d.useState(),i=d.useRef(null),f=Fe(e,i,a.onScrollbarYChange);return d.useEffect(()=>{i.current&&m(getComputedStyle(i.current))},[i]),r.jsx(sr,{"data-orientation":"vertical",...s,ref:f,sizes:l,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":xt(l)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,b)=>{if(a.viewport){const p=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(p),ir(p,b)&&u.preventDefault()}},onResize:()=>{i.current&&a.viewport&&c&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:ht(c.paddingTop),paddingEnd:ht(c.paddingBottom)}})}})}),[ol,lr]=Kt(U),sr=d.forwardRef((t,e)=>{const{__scopeScrollArea:l,sizes:o,hasThumb:s,onThumbChange:a,onThumbPointerUp:c,onThumbPointerDown:m,onThumbPositionChange:i,onDragScroll:f,onWheelScroll:u,onResize:b,...p}=t,j=I(U,l),[T,Y]=d.useState(null),C=Fe(e,v=>Y(v)),z=d.useRef(null),_=d.useRef(""),qe=j.viewport,V=o.content-o.viewport,M=ee(u),O=ee(i),$=gt(b,10);function J(v){if(z.current){const P=v.clientX-z.current.left,h=v.clientY-z.current.top;f({x:P,y:h})}}return d.useEffect(()=>{const v=P=>{const h=P.target;T?.contains(h)&&M(P,V)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[qe,T,V,M]),d.useEffect(O,[o,O]),De(T,$),De(j.content,$),r.jsx(ol,{scope:l,scrollbar:T,hasThumb:s,onThumbChange:ee(a),onThumbPointerUp:ee(c),onThumbPositionChange:O,onThumbPointerDown:ee(m),children:r.jsx(Le.div,{...p,ref:C,style:{position:"absolute",...p.style},onPointerDown:te(t.onPointerDown,v=>{v.button===0&&(v.target.setPointerCapture(v.pointerId),z.current=T.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j.viewport&&(j.viewport.style.scrollBehavior="auto"),J(v))}),onPointerMove:te(t.onPointerMove,J),onPointerUp:te(t.onPointerUp,v=>{const P=v.target;P.hasPointerCapture(v.pointerId)&&P.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=_.current,j.viewport&&(j.viewport.style.scrollBehavior=""),z.current=null})})})}),ut="ScrollAreaThumb",or=d.forwardRef((t,e)=>{const{forceMount:l,...o}=t,s=lr(ut,t.__scopeScrollArea);return r.jsx(ft,{present:l||s.hasThumb,children:r.jsx(al,{ref:e,...o})})}),al=d.forwardRef((t,e)=>{const{__scopeScrollArea:l,style:o,...s}=t,a=I(ut,l),c=lr(ut,l),{onThumbPositionChange:m}=c,i=Fe(e,b=>c.onThumbChange(b)),f=d.useRef(void 0),u=gt(()=>{f.current&&(f.current(),f.current=void 0)},100);return d.useEffect(()=>{const b=a.viewport;if(b){const p=()=>{if(u(),!f.current){const j=il(b,m);f.current=j,m()}};return m(),b.addEventListener("scroll",p),()=>b.removeEventListener("scroll",p)}},[a.viewport,u,m]),r.jsx(Le.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:i,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:te(t.onPointerDownCapture,b=>{const j=b.target.getBoundingClientRect(),T=b.clientX-j.left,Y=b.clientY-j.top;c.onThumbPointerDown({x:T,y:Y})}),onPointerUp:te(t.onPointerUp,c.onThumbPointerUp)})});or.displayName=ut;var Lt="ScrollAreaCorner",ar=d.forwardRef((t,e)=>{const l=I(Lt,t.__scopeScrollArea),o=!!(l.scrollbarX&&l.scrollbarY);return l.type!=="scroll"&&o?r.jsx(nl,{...t,ref:e}):null});ar.displayName=Lt;var nl=d.forwardRef((t,e)=>{const{__scopeScrollArea:l,...o}=t,s=I(Lt,l),[a,c]=d.useState(0),[m,i]=d.useState(0),f=!!(a&&m);return De(s.scrollbarX,()=>{const u=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(u),i(u)}),De(s.scrollbarY,()=>{const u=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(u),c(u)}),f?r.jsx(Le.div,{...o,ref:e,style:{width:a,height:m,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ht(t){return t?parseInt(t,10):0}function nr(t,e){const l=t/e;return isNaN(l)?0:l}function xt(t){const e=nr(t.viewport,t.content),l=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-l)*e;return Math.max(o,18)}function cl(t,e,l,o="ltr"){const s=xt(l),a=s/2,c=e||a,m=s-c,i=l.scrollbar.paddingStart+c,f=l.scrollbar.size-l.scrollbar.paddingEnd-m,u=l.content-l.viewport,b=o==="ltr"?[0,u]:[u*-1,0];return cr([i,f],b)(t)}function Vt(t,e,l="ltr"){const o=xt(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,c=e.content-e.viewport,m=a-o,i=l==="ltr"?[0,c]:[c*-1,0],f=Lr(t,i);return cr([0,c],[0,m])(f)}function cr(t,e){return l=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(l-t[0])}}function ir(t,e){return t>0&&t<e}var il=(t,e=()=>{})=>{let l={left:t.scrollLeft,top:t.scrollTop},o=0;return(function s(){const a={left:t.scrollLeft,top:t.scrollTop},c=l.left!==a.left,m=l.top!==a.top;(c||m)&&e(),l=a,o=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(o)};function gt(t,e){const l=ee(t),o=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(o.current),[]),d.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(l,e)},[l,e])}function De(t,e){const l=ee(e);Ar(()=>{let o=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(l)});return s.observe(t),()=>{window.cancelAnimationFrame(o),s.unobserve(t)}}},[t,l])}var dl=Gt,ml=er,ul=ar;function hl(t){const e=Tt.c(14);let l,o,s;e[0]!==t?({className:o,children:l,...s}=t,e[0]=t,e[1]=l,e[2]=o,e[3]=s):(l=e[1],o=e[2],s=e[3]);let a;e[4]!==o?(a=Xt("relative",o),e[4]=o,e[5]=a):a=e[5];let c;e[6]!==l?(c=r.jsx(ml,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:l}),e[6]=l,e[7]=c):c=e[7];let m,i;e[8]===Symbol.for("react.memo_cache_sentinel")?(m=r.jsx(pl,{}),i=r.jsx(ul,{}),e[8]=m,e[9]=i):(m=e[8],i=e[9]);let f;return e[10]!==s||e[11]!==a||e[12]!==c?(f=r.jsxs(dl,{"data-slot":"scroll-area",className:a,...s,children:[c,m,i]}),e[10]=s,e[11]=a,e[12]=c,e[13]=f):f=e[13],f}function pl(t){const e=Tt.c(13);let l,o,s;e[0]!==t?({className:l,orientation:s,...o}=t,e[0]=t,e[1]=l,e[2]=o,e[3]=s):(l=e[1],o=e[2],s=e[3]);const a=s===void 0?"vertical":s,c=a==="vertical"&&"h-full w-2.5 border-l border-l-transparent",m=a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent";let i;e[4]!==l||e[5]!==c||e[6]!==m?(i=Xt("flex touch-none p-px transition-colors select-none",c,m,l),e[4]=l,e[5]=c,e[6]=m,e[7]=i):i=e[7];let f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=r.jsx(or,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"}),e[8]=f):f=e[8];let u;return e[9]!==a||e[10]!==o||e[11]!==i?(u=r.jsx(tr,{"data-slot":"scroll-area-scrollbar",orientation:a,className:i,...o,children:f}),e[9]=a,e[10]=o,e[11]=i,e[12]=u):u=e[12],u}const fl=[{title:"Penghasilan",href:qr.index().url}],w=t=>{const e=parseFloat(t)||0;return new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.floor(e))},mt=t=>{if(typeof t=="number")return t;const e=t.replace(/\D/g,"");return e?parseInt(e,10):0},xl=t=>t?new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"short",year:"numeric"}).format(new Date(t)):"-";function es(t){const e=Tt.c(144);let l,o,s;e[0]!==t?({products:l,stores:s,...o}=t,e[0]=t,e[1]=l,e[2]=o,e[3]=s):(l=e[1],o=e[2],s=e[3]);const{flash:a}=fr().props,[c,m]=d.useState(!1);let i,f;e[4]!==a.message?(i=()=>{if(a.message){m(!0);const n=setTimeout(()=>{m(!1)},3e3);return()=>clearTimeout(n)}},f=[a.message],e[4]=a.message,e[5]=i,e[6]=f):(i=e[5],f=e[6]),d.useEffect(i,f);const[u,b]=d.useState("all"),[p,j]=d.useState(Pl),{salesRecords:T}=o;let Y;e:{if(!T){let S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=[],e[7]=S):S=e[7],Y=S;break e}let n,y,x,g;if(e[8]===Symbol.for("react.memo_cache_sentinel")){const S=new Date;n=new Date(S),n.setHours(0,0,0,0),x=new Date(S),x.setDate(S.getDate()-S.getDay()),y=new Date(S.getFullYear(),S.getMonth(),1),g=new Date(S.getFullYear(),0,1),e[8]=n,e[9]=y,e[10]=x,e[11]=g}else n=e[8],y=e[9],x=e[10],g=e[11];const N=g;let A;if(e[12]!==p||e[13]!==u||e[14]!==T||e[15]!==n||e[16]!==y||e[17]!==x||e[18]!==N){let S;e[20]!==p||e[21]!==u||e[22]!==n||e[23]!==y||e[24]!==x||e[25]!==N?(S=wt=>{const Z=new Date(wt.created_at);let K=!0;p==="today"?K=Z>=n:p==="week"?K=Z>=x:p==="month"?K=Z>=y:p==="year"&&(K=Z>=N);let ot=!0;return u!=="all"&&(ot=wt.store_id?.toString()===u),K&&ot},e[20]=p,e[21]=u,e[22]=n,e[23]=y,e[24]=x,e[25]=N,e[26]=S):S=e[26],A=T.filter(S).sort(Nl),e[12]=p,e[13]=u,e[14]=T,e[15]=n,e[16]=y,e[17]=x,e[18]=N,e[19]=A}else A=e[19];Y=A}const C=Y;let z;e:{if(!C||C.length===0){let S;e[27]===Symbol.for("react.memo_cache_sentinel")?(S={totalModal:0,totalJual:0,totalFee:0,netProfit:0,margin:0},e[27]=S):S=e[27],z=S;break e}const n=C.reduce(wl,0),y=C.reduce(vl,0),x=C.reduce(jl,0),g=y-n-x,N=y>0?g/y*100:0;let A;e[28]!==N||e[29]!==g||e[30]!==x||e[31]!==y||e[32]!==n?(A={totalModal:n,totalJual:y,totalFee:x,netProfit:g,margin:N},e[28]=N,e[29]=g,e[30]=x,e[31]=y,e[32]=n,e[33]=A):A=e[33],z=A}const _=z,[qe,V]=d.useState(!1),[M,O]=d.useState(!1),[$,J]=d.useState(null),v=n=>{O(!0),J(n.id),k({date:n.date||new Date().toISOString().split("T")[0],store_id:n.store_id?n.store_id.toString():"",product_name:n.product_name||"",qty:Number(n.qty)||1,buy_price:Number(n.buy_price)||0,sell_price:Number(n.sell_price)||0,marketplace_fee_percent:Number(n.marketplace_fee_percent)||0,promo_extra_percent:Number(n.promo_extra_percent)||0,marketplace_name:n.marketplace_name||"Shopee",shipping_cost:Number(n.shipping_cost)||0,order_process_fee:Number(n.flat_fees)||0,extra_costs:Number(n.extra_costs)||0}),V(!0)};let P;e[34]===Symbol.for("react.memo_cache_sentinel")?(P={date:new Date().toISOString().split("T")[0],store_id:"",product_name:"",qty:1,buy_price:0,sell_price:0,marketplace_fee_percent:9.5,promo_extra_percent:4.5,marketplace_name:"Shopee",shipping_cost:0,order_process_fee:1250,extra_costs:0},e[34]=P):P=e[34];const[h,Ht]=d.useState(P),k=Ht,It=d.useRef(null),dr=n=>{k(x=>({...x,product_name:n}));const y=l.find(x=>x.name.toLowerCase()===n.toLowerCase());y&&k(x=>({...x,product_name:n,buy_price:y.last_price||0,sell_price:y.last_sell_price||0})),y&&setTimeout(()=>It.current?.focus(),100)};let He;e[35]===Symbol.for("react.memo_cache_sentinel")?(He={feeAmount:0,netProfit:0},e[35]=He):He=e[35];const[zt,mr]=d.useState(He);let Ie;e[36]!==h.buy_price||e[37]!==h.extra_costs||e[38]!==h.marketplace_fee_percent||e[39]!==h.order_process_fee||e[40]!==h.promo_extra_percent||e[41]!==h.qty||e[42]!==h.sell_price||e[43]!==p?(Ie=()=>{localStorage.setItem("preferred_sales_filter",p);const n=Number(h.qty||1),y=h.sell_price*n,x=Number(h.marketplace_fee_percent)+Number(h.promo_extra_percent),N=y*x/100+h.order_process_fee+h.extra_costs,A=y-h.buy_price*n-N;mr({feeAmount:N,netProfit:A})},e[36]=h.buy_price,e[37]=h.extra_costs,e[38]=h.marketplace_fee_percent,e[39]=h.order_process_fee,e[40]=h.promo_extra_percent,e[41]=h.qty,e[42]=h.sell_price,e[43]=p,e[44]=Ie):Ie=e[44];let ze;e[45]!==h||e[46]!==p?(ze=[h,p],e[45]=h,e[46]=p,e[47]=ze):ze=e[47],d.useEffect(Ie,ze);let Me;e[48]===Symbol.for("react.memo_cache_sentinel")?(Me=r.jsx(xr,{title:"Analisa Penghasilan"}),e[48]=Me):Me=e[48];let Oe;e[49]===Symbol.for("react.memo_cache_sentinel")?(Oe=r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl md:text-2xl font-bold tracking-tight flex items-center gap-2",children:[r.jsx("span",{children:"ðŸ’°"})," Analisa Penghasilan"]}),r.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:"Pantau margin keuntungan di setiap marketplace."})]}),e[49]=Oe):Oe=e[49];let Be;e[50]===Symbol.for("react.memo_cache_sentinel")?(Be=r.jsx(Nt,{className:"w-4 h-4"}),e[50]=Be):Be=e[50];let Qe;e[51]!==$||e[52]!==M?(Qe=M?Pt.update.form($):Pt.store.form(),e[51]=$,e[52]=M,e[53]=Qe):Qe=e[53];let We;e[54]===Symbol.for("react.memo_cache_sentinel")?(We=["today","week","month","year","all"],e[54]=We):We=e[54];let le;e[55]!==p?(le=r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:We.map(n=>r.jsx(Re,{variant:p===n?"default":"outline",size:"sm",className:"capitalize",onClick:()=>j(n),children:n==="today"?"Hari Ini":n==="week"?"Minggu":n==="month"?"Bulan":n==="year"?"Tahun":"Semua"},n))}),e[55]=p,e[56]=le):le=e[56];let Ue;e[57]===Symbol.for("react.memo_cache_sentinel")?(Ue=r.jsx(D,{className:"text-muted-foreground italic",children:"Toko:"}),e[57]=Ue):Ue=e[57];let Ye,Ve;e[58]===Symbol.for("react.memo_cache_sentinel")?(Ye=n=>b(n.target.value),Ve=r.jsx("option",{value:"all",children:"Semua Toko"}),e[58]=Ye,e[59]=Ve):(Ye=e[58],Ve=e[59]);let se;e[60]!==s?(se=s.map(bl),e[60]=s,e[61]=se):se=e[61];let oe;e[62]!==u||e[63]!==se?(oe=r.jsxs("div",{className:"flex items-center gap-2 min-w-[200px]",children:[Ue,r.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm focus:ring-1 focus:ring-ring",value:u,onChange:Ye,children:[Ve,se]})]}),e[62]=u,e[63]=se,e[64]=oe):oe=e[64];let Xe;e[65]!==le||e[66]!==oe?(Xe=r.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-6",children:[le,oe]}),e[65]=le,e[66]=oe,e[67]=Xe):Xe=e[67];let $e;e[68]===Symbol.for("react.memo_cache_sentinel")?($e=r.jsxs(ct,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[r.jsx(it,{className:"text-sm font-medium",children:"Total Penjualan"}),r.jsx(Jr,{className:"w-4 h-4 text-blue-600"})]}),e[68]=$e):$e=e[68];let ae;e[69]!==_.totalJual?(ae=w(_.totalJual),e[69]=_.totalJual,e[70]=ae):ae=e[70];let ne;e[71]!==ae?(ne=r.jsxs(nt,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200",children:[$e,r.jsx(at,{children:r.jsxs("div",{className:"text-2xl font-bold",children:["Rp ",ae]})})]}),e[71]=ae,e[72]=ne):ne=e[72];let Je;e[73]===Symbol.for("react.memo_cache_sentinel")?(Je=r.jsxs(ct,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[r.jsx(it,{className:"text-sm font-medium",children:"Profit Bersih"}),r.jsx(Wr,{className:"w-4 h-4 text-green-600"})]}),e[73]=Je):Je=e[73];let ce;e[74]!==_.netProfit?(ce=w(_.netProfit),e[74]=_.netProfit,e[75]=ce):ce=e[75];let ie;e[76]!==ce?(ie=r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Rp ",ce]}),e[76]=ce,e[77]=ie):ie=e[77];let Ke;e[78]===Symbol.for("react.memo_cache_sentinel")?(Ke=r.jsx(Xr,{className:"w-3 h-3 mr-1"}),e[78]=Ke):Ke=e[78];let de;e[79]!==_.margin?(de=isFinite(_.margin)?_.margin.toFixed(1):0,e[79]=_.margin,e[80]=de):de=e[80];let me;e[81]!==de?(me=r.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center",children:[Ke,de,"% Margin"]}),e[81]=de,e[82]=me):me=e[82];let ue;e[83]!==ie||e[84]!==me?(ue=r.jsxs(nt,{className:"bg-green-50 dark:bg-green-900/20 border-green-200",children:[Je,r.jsxs(at,{children:[ie,me]})]}),e[83]=ie,e[84]=me,e[85]=ue):ue=e[85];let Ge;e[86]===Symbol.for("react.memo_cache_sentinel")?(Ge=r.jsxs(ct,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[r.jsx(it,{className:"text-sm font-medium",children:"Potongan Admin"}),r.jsx(Gr,{className:"w-4 h-4 text-orange-600"})]}),e[86]=Ge):Ge=e[86];let he;e[87]!==_.totalFee?(he=w(_.totalFee),e[87]=_.totalFee,e[88]=he):he=e[88];let pe;e[89]!==he?(pe=r.jsxs(nt,{className:"bg-orange-50 dark:bg-orange-900/20 border-orange-200",children:[Ge,r.jsx(at,{children:r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["Rp ",he]})})]}),e[89]=he,e[90]=pe):pe=e[90];let Ze;e[91]!==ne||e[92]!==ue||e[93]!==pe?(Ze=r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[ne,ue,pe]}),e[91]=ne,e[92]=ue,e[93]=pe,e[94]=Ze):Ze=e[94];let et;e[95]===Symbol.for("react.memo_cache_sentinel")?(et=r.jsx(Ur,{}),e[95]=et):et=e[95];const bt=a.message||"Tersimpan";let fe;e[96]!==bt?(fe=r.jsxs(gr,{className:"mb-2 text-green-600 bg-green-50 dark:bg-green-800 dark:text-green-200",children:[et,r.jsx(br,{children:bt})]}),e[96]=bt,e[97]=fe):fe=e[97];let tt;e[98]!==c||e[99]!==fe?(tt=r.jsx(Yr,{show:c,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:fe}),e[98]=c,e[99]=fe,e[100]=tt):tt=e[100];const _t=nt;let xe;e[101]===Symbol.for("react.memo_cache_sentinel")?(xe=r.jsx(ct,{children:r.jsx(it,{className:"text-lg",children:"Detail Margin per Produk"})}),e[101]=xe):xe=e[101];const yt=at,ur="overflow-x-auto",St=Mr,hr="w-full text-sm";let ge;e[102]===Symbol.for("react.memo_cache_sentinel")?(ge=r.jsx(Or,{children:r.jsxs(dt,{className:"border-b text-left text-muted-foreground uppercase text-[10px] tracking-wider",children:[r.jsx(R,{className:"pb-3",children:"Tanggal"}),r.jsx(R,{className:"pb-3",children:"Produk & Toko"}),r.jsx(R,{className:"pb-3 text-right",children:"Harga Beli"}),r.jsx(R,{className:"pb-3 text-right",children:"Harga Jual"}),r.jsx(R,{className:"pb-3 text-right",children:"Potongan"}),r.jsx(R,{className:"pb-3 text-right text-green-600",children:"Margin/Profit"}),r.jsx(R,{className:"pb-3 text-right",children:"Aksi"})]})}),e[102]=ge):ge=e[102];const jt=Ut,pr="divide-y",vt=C.map(n=>{const y=Number(n.qty||1),x=Number(n.sell_price||0),g=Number(n.buy_price||0),N=x*y,A=g*y,S=Number(n.marketplace_fee_percent||0)+Number(n.promo_extra_percent||0),Z=N*S/100+Number(n.flat_fees||0)+Number(n.extra_costs||0),K=N-A-Z,ot=N>0?K/N*100:0;return r.jsxs(dt,{className:"group hover:bg-slate-50 dark:hover:bg-slate-900/50 transition-colors",children:[r.jsx(G,{className:"py-4 text-slate-500",children:xl(n.created_at)}),r.jsx(G,{className:"py-4",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:"font-semibold text-sm capitalize text-slate-900 dark:text-slate-100 line-clamp-1",children:[n.product_name||"Tanpa Nama",r.jsx("span",{className:"text-slate-300 dark:text-slate-700 ms-1",children:"â€¢"}),r.jsxs("span",{className:"ms-1 text-[10px] font-medium text-slate-500 uppercase tracking-tight",children:[y," Pcs"]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium border ${n.marketplace_name==="Shopee"?"bg-orange-50 text-orange-600 border-orange-100 dark:bg-orange-950/30 dark:border-orange-900":n.marketplace_name==="Tokopedia"?"bg-green-50 text-green-600 border-green-100 dark:bg-green-950/30 dark:border-green-900":n.marketplace_name==="TikTok Shop"?"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-200":"bg-blue-50 text-blue-600 border-blue-100"}`,children:[r.jsx(Er,{className:"w-2.5 h-2.5 mr-1"}),n.marketplace_name||"Umum"]}),r.jsx("span",{className:"font-bold text-xs capitalize text-slate-900 dark:text-slate-300",children:n.store.name||"No Store"})]})})]})}),r.jsxs(G,{className:"py-4 text-right",children:["Rp ",w(n.buy_price)]}),r.jsxs(G,{className:"py-4 text-right font-medium",children:["Rp ",w(n.sell_price)]}),r.jsxs(G,{className:"py-4 text-right text-red-500",children:["- Rp ",w(Z),r.jsxs("div",{className:"text-[9px] text-slate-400",children:["(",S,"%)"]})]}),r.jsxs(G,{className:"py-4 text-right",children:[r.jsxs("div",{className:"font-bold text-green-600",children:["Rp ",w(K)]}),r.jsxs("div",{className:"text-[9px] text-slate-400",children:["Margin: ",ot.toFixed(1),"%"]})]}),r.jsx(G,{className:"py-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(Re,{variant:"ghost",size:"sm",className:"text-blue-500 hover:text-blue-700 hover:bg-blue-50 cursor-pointer",onClick:()=>v(n),children:r.jsx(Yt,{className:"w-4 h-4"})}),r.jsx(Mt,{...Pt.destroy.form(n.id),children:r.jsx(Re,{type:"submit",variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 cursor-pointer",onClick:gl,children:r.jsx(Nt,{className:"w-4 h-4 rotate-45"})})})]})})]},n.id)});let be;e[103]!==jt||e[104]!==vt?(be=r.jsx(jt,{className:pr,children:vt}),e[103]=jt,e[104]=vt,e[105]=be):be=e[105];let rt;e[106]===Symbol.for("react.memo_cache_sentinel")?(rt=r.jsx(R,{colSpan:2,className:"font-bold uppercase text-[12px] py-4",children:"Total Keseluruhan"}),e[106]=rt):rt=e[106];let _e;e[107]!==_.totalModal?(_e=w(_.totalModal),e[107]=_.totalModal,e[108]=_e):_e=e[108];let ye;e[109]!==_e?(ye=r.jsxs(R,{className:"text-right font-bold",children:["Rp ",_e]}),e[109]=_e,e[110]=ye):ye=e[110];let Se;e[111]!==_.totalJual?(Se=w(_.totalJual),e[111]=_.totalJual,e[112]=Se):Se=e[112];let je;e[113]!==Se?(je=r.jsxs(R,{className:"text-right font-bold",children:["Rp ",Se]}),e[113]=Se,e[114]=je):je=e[114];let ve;e[115]!==_.totalFee?(ve=w(_.totalFee),e[115]=_.totalFee,e[116]=ve):ve=e[116];let we;e[117]!==ve?(we=r.jsxs(R,{className:"text-right font-bold text-red-500",children:["- Rp ",ve]}),e[117]=ve,e[118]=we):we=e[118];let Ne;e[119]!==_.netProfit?(Ne=w(_.netProfit),e[119]=_.netProfit,e[120]=Ne):Ne=e[120];let Pe;e[121]!==Ne?(Pe=r.jsxs(R,{className:"text-right font-bold text-green-600 text-lg",children:["Rp ",Ne]}),e[121]=Ne,e[122]=Pe):Pe=e[122];let lt;e[123]===Symbol.for("react.memo_cache_sentinel")?(lt=r.jsx(R,{}),e[123]=lt):lt=e[123];let Te;e[124]!==ye||e[125]!==je||e[126]!==we||e[127]!==Pe?(Te=r.jsx(Br,{children:r.jsxs(dt,{className:"bg-slate-50/50 dark:bg-slate-900/50",children:[rt,ye,je,we,Pe,lt]})}),e[124]=ye,e[125]=je,e[126]=we,e[127]=Pe,e[128]=Te):Te=e[128];let ke;e[129]!==C.length?(ke=C.length===0&&r.jsx(Ut,{children:r.jsx(dt,{children:r.jsx(G,{colSpan:7,className:"h-24 text-center",children:r.jsx(Nr,{children:r.jsxs(Pr,{children:[r.jsx(Tr,{variant:"icon",children:r.jsx(Dr,{className:"w-6 h-6 text-orange-500"})}),r.jsx(kr,{className:"text-slate-400",children:"Belum ada data."})]})})})})}),e[129]=C.length,e[130]=ke):ke=e[130];let Ce;e[131]!==St||e[132]!==ge||e[133]!==be||e[134]!==Te||e[135]!==ke?(Ce=r.jsx("div",{className:ur,children:r.jsxs(St,{className:hr,children:[ge,be,Te,ke]})}),e[131]=St,e[132]=ge,e[133]=be,e[134]=Te,e[135]=ke,e[136]=Ce):Ce=e[136];let Ae;e[137]!==yt||e[138]!==Ce?(Ae=r.jsx(yt,{children:Ce}),e[137]=yt,e[138]=Ce,e[139]=Ae):Ae=e[139];let st;return e[140]!==_t||e[141]!==xe||e[142]!==Ae?(st=r.jsxs(_t,{children:[xe,Ae]}),e[140]=_t,e[141]=xe,e[142]=Ae,e[143]=st):st=e[143],r.jsxs(Fr,{breadcrumbs:fl,children:[Me,r.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-2",children:[Oe,r.jsxs(_r,{open:qe,onOpenChange:V,children:[r.jsx(yr,{asChild:!0,children:r.jsxs(Re,{onClick:()=>{O(!1),J(null),k({date:new Date().toISOString().split("T")[0],store_id:"",product_name:"",qty:1,buy_price:0,sell_price:0,marketplace_fee_percent:9.5,marketplace_name:"Shopee",promo_extra_percent:4.5,shipping_cost:0,order_process_fee:1250,extra_costs:0})},className:"w-full md:w-auto bg-blue-500 hover:bg-blue-600 text-white cursor-pointer shadow-sm",children:[Be,"Tambah Penjualan"]})}),r.jsx(Sr,{children:r.jsx(Mt,{...Qe,onSuccess:()=>{V(!1),O(!1),J(null),k({date:new Date().toISOString().split("T")[0],store_id:"",product_name:"",qty:1,buy_price:0,sell_price:0,marketplace_fee_percent:9.5,marketplace_name:"Shopee",promo_extra_percent:4.5,shipping_cost:0,order_process_fee:1250,extra_costs:0})},children:n=>{const{processing:y,errors:x}=n;return r.jsxs(r.Fragment,{children:[r.jsx(jr,{children:r.jsx(vr,{className:"flex items-center gap-2",children:M?r.jsxs(r.Fragment,{children:[r.jsx(Yt,{className:"w-5 h-5 text-blue-500"}),"Edit Penjualan"]}):r.jsxs(r.Fragment,{children:[r.jsx(Nt,{className:"w-5 h-5 text-blue-500"}),"Tambah Penjualan"]})})}),r.jsx(hl,{className:"h-[400px]",children:r.jsxs("div",{className:"grid gap-4 py-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{children:"Tanggal Transaksi"}),r.jsx(X,{type:"datetime-local",name:"created_at",defaultValue:Sl(),className:"block w-full",required:!0}),r.jsx(B,{message:x.created_at})]}),r.jsxs("div",{className:"grid grid-cols-4 md:col-span-2 gap-4",children:[r.jsxs("div",{className:"grid col-span-3 gap-2",children:[r.jsx(D,{children:"Nama Produk"}),r.jsx(X,{list:"product-suggestions",name:"product_name",value:h.product_name,onChange:g=>dr(g.target.value),autoComplete:"off",placeholder:"Contoh: Pakan Kucing",required:!0}),r.jsx(B,{message:x.product_name})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{className:"truncate",children:"Qty"}),r.jsx(X,{ref:It,type:"number",min:"1",name:"qty",value:h.qty,onChange:g=>k({...h,qty:Number(g.target.value)}),required:!0}),r.jsx(B,{message:x.qty})]})]}),r.jsx("datalist",{id:"product-suggestions",children:l.map(yl)})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{className:"truncate",children:"Harga Beli (Modal)"}),r.jsx(X,{type:"text",name:"buy_price",value:w(h.buy_price),onChange:g=>k({...h,buy_price:mt(g.target.value)}),required:!0}),r.jsx(B,{message:x.buy_price})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{className:"truncate",children:"Harga Jual"}),r.jsx(X,{type:"text",name:"sell_price",value:w(h.sell_price),onChange:g=>k({...h,sell_price:mt(g.target.value)}),required:!0}),r.jsx(B,{message:x.sell_price})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{children:"Pilih Toko Anda"}),r.jsxs(Ot,{name:"store_id",value:h.store_id,onValueChange:g=>k({...h,store_id:g}),required:!0,children:[r.jsx(Bt,{className:"w-full",children:r.jsx(Qt,{placeholder:"Pilih Toko"})}),r.jsx(Wt,{children:r.jsxs(Hr,{children:[r.jsx(Ir,{children:"Daftar Toko Kamu"}),s&&s.length>0?s.map(_l):r.jsx(Ee,{value:"none",disabled:!0,children:"Belum ada toko"})]})})]}),r.jsx(B,{message:x.store_id})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{className:"truncate",children:"Marketplace"}),r.jsxs(Ot,{name:"marketplace_name",value:h.marketplace_name,onValueChange:g=>k({...h,marketplace_name:g}),required:!0,children:[r.jsx(Bt,{children:r.jsx(Qt,{placeholder:"Pilih"})}),r.jsxs(Wt,{children:[r.jsx(Ee,{value:"Shopee",children:"Shopee"}),r.jsx(Ee,{value:"Lazada",children:"Lazada"}),r.jsx(Ee,{value:"Tokopedia",children:"Tokopedia"}),r.jsx(Ee,{value:"TikTok Shop",children:"TikTok Shop"})]})]}),r.jsx(B,{message:x.marketplace_name})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{className:"truncate",children:"Admin Fee (%)"}),r.jsx(X,{type:"number",name:"marketplace_fee_percent",value:h.marketplace_fee_percent,onChange:g=>k({...h,marketplace_fee_percent:Number(g.target.value)}),required:!0}),r.jsx(B,{message:x.marketplace_fee_percent})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{className:"truncate",children:"Biaya Proses"}),r.jsx(X,{type:"text",name:"flat_fees",value:w(h.order_process_fee),onChange:g=>k({...h,order_process_fee:mt(g.target.value)}),required:!0}),r.jsx(B,{message:x.flat_fees})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{className:"truncate",children:"Promo Extra (%)"}),r.jsx(X,{type:"number",name:"promo_extra_percent",step:"0.1",value:h.promo_extra_percent,onChange:g=>k({...h,promo_extra_percent:Number(g.target.value)}),required:!0})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(D,{className:"truncate",children:"Lainnya (iklan, dll)"}),r.jsx(X,{type:"text",name:"extra_costs",placeholder:"Rp 0",value:w(h.extra_costs),onChange:g=>k({...h,extra_costs:mt(g.target.value)}),required:!0}),r.jsx(B,{message:x.extra_costs})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-slate-50 dark:bg-slate-900 rounded-lg border border-dashed text-xs space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Potongan Persen (",(Number(h.marketplace_fee_percent)+Number(h.promo_extra_percent)).toFixed(2),"%):"]}),r.jsxs("span",{className:"text-red-500",children:["- Rp ",w(h.sell_price*h.qty*(Number(h.marketplace_fee_percent)+Number(h.promo_extra_percent))/100)]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{children:["Biaya Proses & Lainnya:",r.jsx("p",{className:"text-xs text-slate-400 italic",children:"(iklan, affiliate, dll)"})]}),r.jsxs("span",{className:"text-red-500",children:["- Rp ",w(Number(h.order_process_fee)+Number(h.extra_costs))]})]}),r.jsxs("div",{className:"flex justify-between font-bold text-sm pt-2 border-t",children:[r.jsx("span",{children:"Estimasi Profit Bersih:"}),r.jsxs("span",{className:(zt.netProfit||0)>=0?"text-green-600":"text-red-600",children:["Rp ",w(zt.netProfit)]})]})]})]})}),r.jsxs(wr,{children:[r.jsx(Re,{type:"button",variant:"ghost",onClick:()=>{V(!1),O(!1)},children:"Batal"}),r.jsx(Re,{type:"submit",disabled:y,className:`${M?"bg-blue-600 hover:bg-blue-700":"bg-orange-600 hover:bg-orange-700"} cursor-pointer text-white`,children:y?r.jsxs(r.Fragment,{children:[r.jsx(zr,{className:"h-4 w-4 animate-spin"})," Menyimpan..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Qr,{className:"w-4 h-4"})," ",M?"Perbarui":"Simpan"]})})]})]})}})})]})]}),Xe,Ze,tt,st]})]})}function gl(t){confirm("Apakah Anda yakin ingin menghapus data ini?")||t.preventDefault()}function bl(t){return r.jsx("option",{value:t.id.toString(),children:t.name},t.id)}function _l(t){return r.jsx(Ee,{value:t.id.toString(),children:r.jsx("span",{className:"capitalize",children:t.name})},t.id)}function yl(t){return r.jsx("option",{value:t.name},t.id)}function Sl(){const t=new Date,e=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-e).toISOString().slice(0,16)}function jl(t,e){const l=parseFloat(e.qty)||1,s=(parseFloat(e.sell_price)||0)*l,a=parseFloat(e.marketplace_fee_percent)||0,c=parseFloat(e.promo_extra_percent)||0,m=a+c,i=s*m/100,f=parseFloat(e.flat_fees)||0,u=parseFloat(e.extra_costs)||0,b=parseFloat(e.shipping_cost)||0;return t+i+f+u+b}function vl(t,e){const l=parseFloat(e.sell_price)||0,o=parseFloat(e.qty)||0;return t+l*o}function wl(t,e){const l=parseFloat(e.buy_price)||0,o=parseFloat(e.qty)||0;return t+l*o}function Nl(t,e){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}function Pl(){return localStorage.getItem("preferred_sales_filter")||"all"}export{es as default};
